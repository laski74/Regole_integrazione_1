<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GENESIS - Correzioni Interattive Antiderivate</title>
    
    <!-- MathJax Configuration -->
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [['\\[', '\\]']],
        autoload: {
          color: [],
          colorv2: ['color']
        },
        packages: {'[+]': ['noerrors']}
      },
      options: {
        ignoreHtmlClass: 'tex2jax_ignore',
        processHtmlClass: 'tex2jax_process'
      },
      loader: {
        load: ['[tex]/noerrors']
      }
    };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            padding: 30px;
            background: rgba(0, 255, 255, 0.1);
            border: 2px solid #00ffff;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .team-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin: 30px 0;
        }
        
        .team-button {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .team-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.3);
        }
        
        .team-red { background: linear-gradient(45deg, #ff4444, #cc0000); color: white; }
        .team-blue { background: linear-gradient(45deg, #4444ff, #0000cc); color: white; }
        .team-green { background: linear-gradient(45deg, #44ff44, #00cc00); color: black; }
        .team-yellow { background: linear-gradient(45deg, #ffff44, #cccc00); color: black; }
        
        .correction-panel {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            color: #000;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }
        
        .correction-panel.active {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .panel-header {
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .red-header { background: linear-gradient(45deg, #ff4444, #cc0000); }
        .blue-header { background: linear-gradient(45deg, #4444ff, #0000cc); }
        .green-header { background: linear-gradient(45deg, #44ff44, #00cc00); color: black; }
        .yellow-header { background: linear-gradient(45deg, #ffff44, #cccc00); color: black; }
        
        .exercise-section {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .solution-hidden {
            display: none;
            background: #e8f5e8;
            border-left: 4px solid #4caf50;
            padding: 20px;
            margin: 15px 0;
            border-radius: 5px;
            animation: fadeIn 0.3s ease;
        }
        
        .solution-hidden.show {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .reveal-button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }
        
        .reveal-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }
        
        .reveal-button:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .formula-box {
            background: #000;
            color: #00ff00;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            margin: 15px 0;
            text-align: center;
            border: 2px solid #00ff00;
        }
        
        .step-by-step {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .verification-box {
            background: #d1ecf1;
            border-left: 4px solid #0dcaf0;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #000;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background: #6c757d;
            color: white;
        }
        
        .back-button {
            background: #6c757d;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1rem;
            margin: 20px 0;
        }
        
        .back-button:hover {
            background: #5a6268;
        }
        
        .progress-bar {
            background: #e9ecef;
            border-radius: 10px;
            height: 30px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .team-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ PROGETTO GENESIS</h1>
            <h2>Correzioni Interattive - Antiderivate</h2>
            <p>Clicca sui pulsanti per rivelare progressivamente le soluzioni</p>
        </div>
        
        <div class="team-selector">
            <button class="team-button team-red" onclick="showCorrection('red')">
                üî¥ CORREZIONE SQUADRA ROSSA
            </button>
            <button class="team-button team-blue" onclick="showCorrection('blue')">
                üîµ CORREZIONE SQUADRA BLU
            </button>
            <button class="team-button team-green" onclick="showCorrection('green')">
                üü¢ CORREZIONE SQUADRA VERDE
            </button>
            <button class="team-button team-yellow" onclick="showCorrection('yellow')">
                üü° CORREZIONE SQUADRA GIALLA
            </button>
        </div>
        
        <!-- CORREZIONE SQUADRA ROSSA -->
        <div id="correction-red" class="correction-panel">
            <div class="panel-header red-header">
                <h2>üî¥ CORREZIONE SQUADRA ROSSA</h2>
                <h3>Antiderivate Polinomiali</h3>
            </div>
            
            <div class="progress-bar">
                <div id="progress-red" class="progress-fill">0%</div>
            </div>
            
            <div class="exercise-section">
                <h3>üìä FASE 1: Tabella delle Antiderivate</h3>
                <p>Completiamo insieme la tabella fondamentale:</p>
                
                <button class="reveal-button" onclick="revealSolution('red-table', 'red')">
                    üëÅÔ∏è Mostra Tabella Completa
                </button>
                
                <div id="red-table" class="solution-hidden">
                    <table>
                        <tr>
                            <th>Derivata \(f'(x)\)</th>
                            <th>Funzione Originale \(f(x)\)</th>
                            <th>Verifica</th>
                        </tr>
                        <tr>
                            <td>\(f'(x) = 1\)</td>
                            <td>\(f(x) = x + C\)</td>
                            <td>\(\frac{d}{dx}[x + C] = 1\) ‚úì</td>
                        </tr>
                        <tr>
                            <td>\(f'(x) = x\)</td>
                            <td>\(f(x) = \frac{x^2}{2} + C\)</td>
                            <td>\(\frac{d}{dx}\left[\frac{x^2}{2}\right] = \frac{2x}{2} = x\) ‚úì</td>
                        </tr>
                        <tr>
                            <td>\(f'(x) = x^2\)</td>
                            <td>\(f(x) = \frac{x^3}{3} + C\)</td>
                            <td>\(\frac{d}{dx}\left[\frac{x^3}{3}\right] = \frac{3x^2}{3} = x^2\) ‚úì</td>
                        </tr>
                        <tr>
                            <td>\(f'(x) = x^3\)</td>
                            <td>\(f(x) = \frac{x^4}{4} + C\)</td>
                            <td>\(\frac{d}{dx}\left[\frac{x^4}{4}\right] = \frac{4x^3}{4} = x^3\) ‚úì</td>
                        </tr>
                        <tr>
                            <td>\(f'(x) = x^4\)</td>
                            <td>\(f(x) = \frac{x^5}{5} + C\)</td>
                            <td>\(\frac{d}{dx}\left[\frac{x^5}{5}\right] = \frac{5x^4}{5} = x^4\) ‚úì</td>
                        </tr>
                        <tr>
                            <td>\(f'(x) = x^5\)</td>
                            <td>\(f(x) = \frac{x^6}{6} + C\)</td>
                            <td>\(\frac{d}{dx}\left[\frac{x^6}{6}\right] = \frac{6x^5}{6} = x^5\) ‚úì</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üîç FASE 2: Scoperta del Pattern</h3>
                
                <button class="reveal-button" onclick="revealSolution('red-pattern', 'red')">
                    üí° Mostra Pattern Scoperto
                </button>
                
                <div id="red-pattern" class="solution-hidden">
                    <div class="step-by-step">
                        <h4>Pattern Osservato:</h4>
                        <p><strong>Per trovare l'antiderivata di \(x^n\):</strong></p>
                        <ol>
                            <li>Aumenta l'esponente di 1: \(n \to n+1\)</li>
                            <li>Dividi per il nuovo esponente: \(\frac{1}{n+1}\)</li>
                            <li>Aggiungi sempre \(+ C\)</li>
                        </ol>
                        <p><strong>Esempio:</strong> Se ho \(x^3\):</p>
                        <ul>
                            <li>Esponente: \(3 \to 4\)</li>
                            <li>Divido: \(\frac{x^4}{4}\)</li>
                            <li>Risultato: \(\frac{x^4}{4} + C\)</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üìê FASE 3: La Regola Generale</h3>
                
                <button class="reveal-button" onclick="revealSolution('red-formula', 'red')">
                    üéØ Mostra Formula Generale
                </button>
                
                <div id="red-formula" class="solution-hidden">
                    <div class="formula-box">
                        \[\int x^n dx = \frac{x^{n+1}}{n+1} + C\]
                        <br>(per \(n \neq -1\))
                    </div>
                    
                    <div class="verification-box">
                        <h4>‚úÖ Verifica della Formula:</h4>
                        <p>Se \(\int x^n dx = \frac{x^{n+1}}{n+1} + C\), allora:</p>
                        <p>\[\frac{d}{dx}\left[\frac{x^{n+1}}{n+1} + C\right] = \frac{(n+1) \cdot x^n}{n+1} = x^n\] ‚úì</p>
                        <p><strong>La formula funziona!</strong></p>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üéì FASE 4: La Costante C</h3>
                
                <button class="reveal-button" onclick="revealSolution('red-constant', 'red')">
                    üîÆ Mostra Spiegazione Costante C
                </button>
                
                <div id="red-constant" class="solution-hidden">
                    <div class="step-by-step">
                        <h4>Perch√© aggiungiamo \(+ C\)?</h4>
                        <p><strong>Esempio:</strong> Le funzioni \(f(x) = x^2\), \(g(x) = x^2 + 5\), \(h(x) = x^2 - 3\)</p>
                        <p>Tutte e tre hanno la stessa derivata: <strong>\(2x\)</strong></p>
                        
                        <p><strong>Conclusione:</strong></p>
                        <ul>
                            <li>Se so solo che \(f'(x) = 2x\), ci sono <strong>infinite</strong> possibili funzioni \(f(x)\)</li>
                            <li>Tutte hanno la forma \(f(x) = x^2 + C\), dove \(C\) pu√≤ essere qualsiasi numero</li>
                            <li>\(C\) rappresenta una <strong>famiglia infinita di soluzioni</strong></li>
                        </ul>
                        
                        <p><strong>Quando usiamo \(C\)?</strong> Negli <strong>integrali indefiniti</strong></p>
                        <p><strong>Quando troviamo \(C\)?</strong> Usando una <strong>condizione iniziale</strong> (es: \(f(0) = 10\))</p>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üéØ PROBLEMI APPLICATIVI - Soluzioni</h3>
                
                <h4>Problema 1: Velocit√† e Posizione</h4>
                <p>\(v(t) = 3t^2\), \(s(0) = 10\)</p>
                <button class="reveal-button" onclick="revealSolution('red-prob1', 'red')">
                    üîç Mostra Soluzione Problema 1
                </button>
                
                <div id="red-prob1" class="solution-hidden">
                    <div class="step-by-step">
                        <p><strong>Passo 1:</strong> Antiderivata generale</p>
                        <p>\[s(t) = \int 3t^2 dt = 3 \cdot \frac{t^3}{3} + C = t^3 + C\]</p>
                        
                        <p><strong>Passo 2:</strong> Uso condizione iniziale \(s(0) = 10\)</p>
                        <p>\[s(0) = 0^3 + C = 10\]</p>
                        <p>Quindi: \(C = 10\)</p>
                        
                        <p><strong>Passo 3:</strong> Soluzione finale</p>
                        <div class="formula-box">
                            \[s(t) = t^3 + 10\]
                        </div>
                        
                        <div class="verification-box">
                            <strong>Verifica:</strong> \(\frac{d}{dt}[t^3 + 10] = 3t^2\) ‚úì
                        </div>
                    </div>
                </div>
                
                <h4>Problema 2: Accelerazione</h4>
                <p>\(a(t) = 6t\), \(v(0) = 2\)</p>
                <button class="reveal-button" onclick="revealSolution('red-prob2', 'red')">
                    üîç Mostra Soluzione Problema 2
                </button>
                
                <div id="red-prob2" class="solution-hidden">
                    <div class="step-by-step">
                        <p><strong>Soluzione:</strong></p>
                        <p>\[v(t) = \int 6t \, dt = 6 \cdot \frac{t^2}{2} + C = 3t^2 + C\]</p>
                        <p>\[v(0) = 3 \cdot 0^2 + C = 2 \Rightarrow C = 2\]</p>
                        <div class="formula-box">
                            \[v(t) = 3t^2 + 2\]
                        </div>
                    </div>
                </div>
                
                <h4>Problema 3: Crescita Energetica</h4>
                <p>\(P(t) = 4t^3\), \(E(0) = 0\)</p>
                <button class="reveal-button" onclick="revealSolution('red-prob3', 'red')">
                    üîç Mostra Soluzione Problema 3
                </button>
                
                <div id="red-prob3" class="solution-hidden">
                    <div class="step-by-step">
                        <p><strong>Soluzione:</strong></p>
                        <p>\[E(t) = \int 4t^3 \, dt = 4 \cdot \frac{t^4}{4} + C = t^4 + C\]</p>
                        <p>\[E(0) = 0^4 + C = 0 \Rightarrow C = 0\]</p>
                        <div class="formula-box">
                            \[E(t) = t^4\]
                        </div>
                    </div>
                </div>
                
                <h4>Problema 4: Sfida Avanzata</h4>
                <p>\(f'(x) = 2x^3 - 5x^2 + 3x - 1\), \(f(1) = 0\)</p>
                <button class="reveal-button" onclick="revealSolution('red-prob4', 'red')">
                    üîç Mostra Soluzione Problema 4
                </button>
                
                <div id="red-prob4" class="solution-hidden">
                    <div class="step-by-step">
                        <p><strong>Soluzione:</strong></p>
                        <p>\[f(x) = \int (2x^3 - 5x^2 + 3x - 1) \, dx\]</p>
                        <p>\[= 2 \cdot \frac{x^4}{4} - 5 \cdot \frac{x^3}{3} + 3 \cdot \frac{x^2}{2} - x + C\]</p>
                        <p>\[= \frac{x^4}{2} - \frac{5x^3}{3} + \frac{3x^2}{2} - x + C\]</p>
                        <p>\[f(1) = \frac{1}{2} - \frac{5}{3} + \frac{3}{2} - 1 + C = 0\]</p>
                        <p>\[\frac{1}{2} + \frac{3}{2} - 1 - \frac{5}{3} + C = 0\]</p>
                        <p>\[2 - 1 - \frac{5}{3} + C = 0\]</p>
                        <p>\[1 - \frac{5}{3} + C = 0 \Rightarrow C = \frac{2}{3}\]</p>
                        <div class="formula-box">
                            \[f(x) = \frac{x^4}{2} - \frac{5x^3}{3} + \frac{3x^2}{2} - x + \frac{2}{3}\]
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="back-button" onclick="hideCorrections()">‚¨ÖÔ∏è Torna alla Selezione</button>
        </div>
        
        <!-- CORREZIONE SQUADRA BLU -->
        <div id="correction-blue" class="correction-panel">
            <div class="panel-header blue-header">
                <h2>üîµ CORREZIONE SQUADRA BLU</h2>
                <h3>Antiderivate Trigonometriche</h3>
            </div>
            
            <div class="progress-bar">
                <div id="progress-blue" class="progress-fill">0%</div>
            </div>
            
            <div class="exercise-section">
                <h3>üîç FASE 1: Il Mistero del Segno</h3>
                
                <h4>Caso 1: Se \(f'(x) = \cos(x)\)</h4>
                <button class="reveal-button" onclick="revealSolution('blue-case1', 'blue')">
                    üëÅÔ∏è Mostra Soluzione Caso 1
                </button>
                
                <div id="blue-case1" class="solution-hidden">
                    <div class="step-by-step">
                        <p><strong>Quale funzione ha derivata \(\cos(x)\)?</strong></p>
                        <p>Risposta: \(f(x) = \sin(x) + C\)</p>
                        
                        <p><strong>Verifica:</strong> \(\frac{d}{dx}[\sin(x)] = \cos(x)\) ‚úì</p>
                        
                        <div class="formula-box">
                            \[\int \cos(x) \, dx = \sin(x) + C\]
                        </div>
                    </div>
                </div>
                
                <h4>Caso 2: Se \(f'(x) = \sin(x)\)</h4>
                <button class="reveal-button" onclick="revealSolution('blue-case2', 'blue')">
                    üëÅÔ∏è Mostra Soluzione Caso 2
                </button>
                
                <div id="blue-case2" class="solution-hidden">
                    <div class="step-by-step">
                        <p><strong>Quale funzione ha derivata \(\sin(x)\)?</strong></p>
                        <p>Proviamo con \(\cos(x)\): \(\frac{d}{dx}[\cos(x)] = -\sin(x)\) ‚ùå</p>
                        <p>Il segno √® sbagliato!</p>
                        
                        <p><strong>Soluzione:</strong> Mettiamo un segno negativo davanti</p>
                        <p>\(f(x) = -\cos(x) + C\)</p>
                        
                        <p><strong>Verifica:</strong> \(\frac{d}{dx}[-\cos(x)] = -(-\sin(x)) = \sin(x)\) ‚úì</p>
                        
                        <div class="formula-box">
                            \[\int \sin(x) \, dx = -\cos(x) + C\]
                        </div>
                        
                        <p><strong>ATTENZIONE:</strong> Il segno negativo √® fondamentale!</p>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üìê FASE 2: Le Regole di Base</h3>
                
                <button class="reveal-button" onclick="revealSolution('blue-rules', 'blue')">
                    üéØ Mostra Regole Fondamentali
                </button>
                
                <div id="blue-rules" class="solution-hidden">
                    <div class="formula-box">
                        \[\int \sin(x) \, dx = -\cos(x) + C\]
                        <br>
                        \[\int \cos(x) \, dx = \sin(x) + C\]
                    </div>
                    
                    <div class="verification-box">
                        <h4>Memo-trick per ricordare i segni:</h4>
                        <ul>
                            <li><strong>\(\cos\)</strong> ‚Üí <strong>\(\sin\)</strong> (nessun segno negativo)</li>
                            <li><strong>\(\sin\)</strong> ‚Üí <strong>\(-\cos\)</strong> (compare il segno negativo)</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üìä FASE 3: Funzioni Pi√π Complesse</h3>
                
                <button class="reveal-button" onclick="revealSolution('blue-table', 'blue')">
                    üëÅÔ∏è Mostra Tabella Completa
                </button>
                
                <div id="blue-table" class="solution-hidden">
                    <table>
                        <tr>
                            <th>Derivata \(f'(x)\)</th>
                            <th>Antiderivata \(\int f'(x) \, dx\)</th>
                            <th>Verifica</th>
                        </tr>
                        <tr>
                            <td>\(2\sin(x)\)</td>
                            <td>\(-2\cos(x) + C\)</td>
                            <td>\(\frac{d}{dx}[-2\cos(x)] = 2\sin(x)\) ‚úì</td>
                        </tr>
                        <tr>
                            <td>\(3\cos(x)\)</td>
                            <td>\(3\sin(x) + C\)</td>
                            <td>\(\frac{d}{dx}[3\sin(x)] = 3\cos(x)\) ‚úì</td>
                        </tr>
                        <tr>
                            <td>\(\sin(x) + \cos(x)\)</td>
                            <td>\(-\cos(x) + \sin(x) + C\)</td>
                            <td>\(\frac{d}{dx}[-\cos(x) + \sin(x)] = \sin(x) + \cos(x)\) ‚úì</td>
                        </tr>
                        <tr>
                            <td>\(4\sin(x) - 2\cos(x)\)</td>
                            <td>\(-4\cos(x) - 2\sin(x) + C\)</td>
                            <td>\(\frac{d}{dx}[-4\cos(x) - 2\sin(x)] = 4\sin(x) - 2\cos(x)\) ‚úì</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üéì FASE 4: Propriet√† di Linearit√†</h3>
                
                <button class="reveal-button" onclick="revealSolution('blue-linearity', 'blue')">
                    üí° Mostra Propriet√† di Linearit√†
                </button>
                
                <div id="blue-linearity" class="solution-hidden">
                    <div class="step-by-step">
                        <h4>Propriet√† scoperta:</h4>
                        <div class="formula-box">
                            \[\int [a \cdot f(x) + b \cdot g(x)] \, dx = a \cdot \int f(x) \, dx + b \cdot \int g(x) \, dx\]
                        </div>
                        
                        <p><strong>In parole semplici:</strong></p>
                        <ul>
                            <li>L'integrale di una <strong>somma</strong> √® uguale alla <strong>somma degli integrali</strong></li>
                            <li>L'integrale di una <strong>costante per una funzione</strong> √® uguale alla <strong>costante per l'integrale della funzione</strong></li>
                        </ul>
                        
                        <p><strong>Esempio:</strong></p>
                        <p>\[\int (3\sin(x) + 2\cos(x)) \, dx = 3\int\sin(x) \, dx + 2\int\cos(x) \, dx\]</p>
                        <p>\[= 3(-\cos(x)) + 2(\sin(x)) + C\]</p>
                        <p>\[= -3\cos(x) + 2\sin(x) + C\]</p>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üéØ PROBLEMI APPLICATIVI - Soluzioni</h3>
                
                <h4>Problema 1: Oscillazioni Armoniche</h4>
                <p>\(v(t) = -\sin(t)\), \(x(0) = 1\)</p>
                <button class="reveal-button" onclick="revealSolution('blue-prob1', 'blue')">
                    üîç Mostra Soluzione Problema 1
                </button>
                
                <div id="blue-prob1" class="solution-hidden">
                    <div class="step-by-step">
                        <p><strong>Passo 1:</strong> Antiderivata generale</p>
                        <p>\[x(t) = \int -\sin(t) \, dt = -(-\cos(t)) + C = \cos(t) + C\]</p>
                        
                        <p><strong>Passo 2:</strong> Condizione iniziale \(x(0) = 1\)</p>
                        <p>\[x(0) = \cos(0) + C = 1 + C = 1\]</p>
                        <p>Quindi: \(C = 0\)</p>
                        
                        <p><strong>Passo 3:</strong> Soluzione</p>
                        <div class="formula-box">
                            \[x(t) = \cos(t)\]
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="back-button" onclick="hideCorrections()">‚¨ÖÔ∏è Torna alla Selezione</button>
        </div>
        
        <!-- CORREZIONE SQUADRA VERDE -->
        <div id="correction-green" class="correction-panel">
            <div class="panel-header green-header">
                <h2>üü¢ CORREZIONE SQUADRA VERDE</h2>
                <h3>Antiderivate Esponenziali</h3>
            </div>
            
            <div class="progress-bar">
                <div id="progress-green" class="progress-fill">0%</div>
            </div>
            
            <div class="exercise-section">
                <h3>üîç FASE 1: La Funzione Magica</h3>
                
                <button class="reveal-button" onclick="revealSolution('green-magic', 'green')">
                    üëÅÔ∏è Mostra la Funzione Speciale
                </button>
                
                <div id="green-magic" class="solution-hidden">
                    <div class="step-by-step">
                        <p><strong>La propriet√† unica di \(e^x\):</strong></p>
                        <p>Se \(f'(x) = e^x\), allora \(f(x) = e^x + C\)</p>
                        
                        <p><strong>Verifica:</strong> \(\frac{d}{dx}[e^x + C] = e^x\) ‚úì</p>
                        
                        <div class="formula-box">
                            \[\int e^x \, dx = e^x + C\]
                        </div>
                        
                        <p><strong>Perch√© √® speciale?</strong></p>
                        <p>\(e^x\) √® l'UNICA funzione che rimane identica sia derivando che integrando!</p>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üìê FASE 2: Altre Basi</h3>
                
                <button class="reveal-button" onclick="revealSolution('green-bases', 'green')">
                    üéØ Mostra Regola per Altre Basi
                </button>
                
                <div id="green-bases" class="solution-hidden">
                    <table>
                        <tr>
                            <th>Funzione</th>
                            <th>Derivata</th>
                            <th>Quindi \(\int\) funzione \(dx\)</th>
                        </tr>
                        <tr>
                            <td>\(2^x\)</td>
                            <td>\(2^x \cdot \ln(2)\)</td>
                            <td>\(\frac{2^x}{\ln(2)} + C\)</td>
                        </tr>
                        <tr>
                            <td>\(3^x\)</td>
                            <td>\(3^x \cdot \ln(3)\)</td>
                            <td>\(\frac{3^x}{\ln(3)} + C\)</td>
                        </tr>
                        <tr>
                            <td>\(10^x\)</td>
                            <td>\(10^x \cdot \ln(10)\)</td>
                            <td>\(\frac{10^x}{\ln(10)} + C\)</td>
                        </tr>
                        <tr>
                            <td>\(a^x\)</td>
                            <td>\(a^x \cdot \ln(a)\)</td>
                            <td>\(\frac{a^x}{\ln(a)} + C\)</td>
                        </tr>
                    </table>
                    
                    <div class="verification-box">
                        <h4>Verifica:</h4>
                        <p>\[\frac{d}{dx}\left[\frac{a^x}{\ln(a)}\right] = \frac{a^x \cdot \ln(a)}{\ln(a)} = a^x\] ‚úì</p>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üìä FASE 3: La Regola Generale</h3>
                
                <button class="reveal-button" onclick="revealSolution('green-general', 'green')">
                    üí° Mostra Formula Generale
                </button>
                
                <div id="green-general" class="solution-hidden">
                    <div class="formula-box">
                        \[\int a^x \, dx = \frac{a^x}{\ln(a)} + C\]
                        <br>(dove \(a > 0, a \neq 1\))
                    </div>
                    
                    <div class="step-by-step">
                        <p><strong>Caso speciale:</strong> Quando \(a = e\)</p>
                        <p>\[\int e^x \, dx = \frac{e^x}{\ln(e)} + C = \frac{e^x}{1} + C = e^x + C\]</p>
                        <p>Ecco perch√© \(e^x\) √® cos√¨ speciale!</p>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üßÆ FASE 4: Funzioni Composte Base</h3>
                
                <button class="reveal-button" onclick="revealSolution('green-ex1', 'green')">
                    üîç Soluzione Esercizio 1: \(\int 2e^x \, dx\)
                </button>
                
                <div id="green-ex1" class="solution-hidden">
                    <div class="step-by-step">
                        <p>\[\int 2e^x \, dx = 2 \int e^x \, dx = 2(e^x) + C = 2e^x + C\]</p>
                        <p><strong>Verifica:</strong> \(\frac{d}{dx}[2e^x + C] = 2e^x\) ‚úì</p>
                    </div>
                </div>
                
                <button class="reveal-button" onclick="revealSolution('green-ex2', 'green')">
                    üîç Soluzione Esercizio 2: \(\int (e^x + 3) \, dx\)
                </button>
                
                <div id="green-ex2" class="solution-hidden">
                    <div class="step-by-step">
                        <p>\[\int (e^x + 3) \, dx = \int e^x \, dx + \int 3 \, dx\]</p>
                        <p>\[= e^x + 3x + C\]</p>
                        <p><strong>Verifica:</strong> \(\frac{d}{dx}[e^x + 3x + C] = e^x + 3\) ‚úì</p>
                    </div>
                </div>
                
                <button class="reveal-button" onclick="revealSolution('green-ex3', 'green')">
                    üîç Soluzione Esercizio 3: \(\int (5e^x - 2 \cdot 3^x) \, dx\)
                </button>
                
                <div id="green-ex3" class="solution-hidden">
                    <div class="step-by-step">
                        <p>\[\int (5e^x - 2 \cdot 3^x) \, dx = 5\int e^x \, dx - 2\int 3^x \, dx\]</p>
                        <p>\[= 5e^x - 2 \cdot \frac{3^x}{\ln(3)} + C\]</p>
                        <div class="formula-box">
                            \[= 5e^x - \frac{2 \cdot 3^x}{\ln(3)} + C\]
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üéØ PROBLEMI APPLICATIVI - Soluzioni</h3>
                
                <h4>Problema 1: Crescita Batterica</h4>
                <p>\(r(t) = 2e^t\), \(N(0) = 100\)</p>
                <button class="reveal-button" onclick="revealSolution('green-prob1', 'green')">
                    üîç Mostra Soluzione Problema 1
                </button>
                
                <div id="green-prob1" class="solution-hidden">
                    <div class="step-by-step">
                        <p><strong>Passo 1:</strong> \(N(t) = \int 2e^t \, dt = 2e^t + C\)</p>
                        <p><strong>Passo 2:</strong> \(N(0) = 2e^0 + C = 2 + C = 100\)</p>
                        <p>Quindi: \(C = 98\)</p>
                        <div class="formula-box">
                            \[N(t) = 2e^t + 98\]
                        </div>
                    </div>
                </div>
                
                <h4>Problema 2: Decadimento Radioattivo</h4>
                <p>\(v(t) = -e^{-t}\), \(N(0) = 1000\)</p>
                <button class="reveal-button" onclick="revealSolution('green-prob2', 'green')">
                    üîç Mostra Soluzione Problema 2
                </button>
                
                <div id="green-prob2" class="solution-hidden">
                    <div class="step-by-step">
                        <p>\(N(t) = \int -e^{-t} \, dt\)</p>
                        <p>Nota: Questo richiede sostituzione (non ancora studiata)</p>
                        <p>Risultato: \(N(t) = e^{-t} + C\)</p>
                        <p>\(N(0) = e^0 + C = 1 + C = 1000\)</p>
                        <p>\(C = 999\)</p>
                        <div class="formula-box">
                            \[N(t) = e^{-t} + 999\]
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="back-button" onclick="hideCorrections()">‚¨ÖÔ∏è Torna alla Selezione</button>
        </div>
        
        <!-- CORREZIONE SQUADRA GIALLA -->
        <div id="correction-yellow" class="correction-panel">
            <div class="panel-header yellow-header">
                <h2>üü° CORREZIONE SQUADRA GIALLA</h2>
                <h3>Antiderivate Speciali</h3>
            </div>
            
            <div class="progress-bar">
                <div id="progress-yellow" class="progress-fill">0%</div>
            </div>
            
            <div class="exercise-section">
                <h3>üîç FASE 1: Il Mistero di \(\frac{1}{x}\)</h3>
                
                <button class="reveal-button" onclick="revealSolution('yellow-mystery', 'yellow')">
                    üëÅÔ∏è Mostra il Caso Speciale
                </button>
                
                <div id="yellow-mystery" class="solution-hidden">
                    <div class="step-by-step">
                        <p><strong>Il problema:</strong></p>
                        <p>\[\int x^{-1} \, dx = \int \frac{1}{x} \, dx = ?\]</p>
                        <p>La regola \(\frac{x^{n+1}}{n+1}\) darebbe \(\frac{x^0}{0}\) = INDEFINITO!</p>
                        
                        <p><strong>La soluzione:</strong></p>
                        <p>Ricordiamo che \(\frac{d}{dx}[\ln(x)] = \frac{1}{x}\) per \(x > 0\)</p>
                        <p>E \(\frac{d}{dx}[\ln(-x)] = \frac{1}{x}\) per \(x < 0\)</p>
                        
                        <div class="formula-box">
                            \[\int \frac{1}{x} \, dx = \ln|x| + C\]
                            <br>(per \(x \neq 0\))
                        </div>
                        
                        <p><strong>Verifica:</strong></p>
                        <ul>
                            <li>Se \(x > 0\): \(\frac{d}{dx}[\ln(x)] = \frac{1}{x}\) ‚úì</li>
                            <li>Se \(x < 0\): \(\frac{d}{dx}[\ln(-x)] = \frac{-1}{-x} = \frac{1}{x}\) ‚úì</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üìä FASE 2: Potenze Frazionarie</h3>
                
                <button class="reveal-button" onclick="revealSolution('yellow-fractions', 'yellow')">
                    üéØ Mostra Tabella Completa
                </button>
                
                <div id="yellow-fractions" class="solution-hidden">
                    <table>
                        <tr>
                            <th>Funzione</th>
                            <th>Come potenza</th>
                            <th>Antiderivata</th>
                        </tr>
                        <tr>
                            <td>\(\sqrt{x}\)</td>
                            <td>\(x^{1/2}\)</td>
                            <td>\(\frac{x^{3/2}}{3/2} = \frac{2}{3}x^{3/2} + C\)</td>
                        </tr>
                        <tr>
                            <td>\(\frac{1}{\sqrt{x}}\)</td>
                            <td>\(x^{-1/2}\)</td>
                            <td>\(\frac{x^{1/2}}{1/2} = 2\sqrt{x} + C\)</td>
                        </tr>
                        <tr>
                            <td>\(\sqrt[3]{x}\)</td>
                            <td>\(x^{1/3}\)</td>
                            <td>\(\frac{x^{4/3}}{4/3} = \frac{3}{4}x^{4/3} + C\)</td>
                        </tr>
                        <tr>
                            <td>\(\frac{1}{x^2}\)</td>
                            <td>\(x^{-2}\)</td>
                            <td>\(\frac{x^{-1}}{-1} = -\frac{1}{x} + C\)</td>
                        </tr>
                        <tr>
                            <td>\(\frac{1}{x^3}\)</td>
                            <td>\(x^{-3}\)</td>
                            <td>\(\frac{x^{-2}}{-2} = -\frac{1}{2x^2} + C\)</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üßÆ FASE 3: Esercizi di Applicazione</h3>
                
                <button class="reveal-button" onclick="revealSolution('yellow-ex1', 'yellow')">
                    üîç Soluzione: \(\int \frac{2}{x} \, dx\)
                </button>
                
                <div id="yellow-ex1" class="solution-hidden">
                    <div class="step-by-step">
                        <p>\[\int \frac{2}{x} \, dx = 2 \int \frac{1}{x} \, dx = 2 \ln|x| + C\]</p>
                        <p><strong>Verifica:</strong> \(\frac{d}{dx}[2 \ln|x|] = 2 \cdot \frac{1}{x} = \frac{2}{x}\) ‚úì</p>
                    </div>
                </div>
                
                <button class="reveal-button" onclick="revealSolution('yellow-ex2', 'yellow')">
                    üîç Soluzione: \(\int 3\sqrt{x} \, dx\)
                </button>
                
                <div id="yellow-ex2" class="solution-hidden">
                    <div class="step-by-step">
                        <p>\[\int 3\sqrt{x} \, dx = \int 3x^{1/2} \, dx\]</p>
                        <p>\[= 3 \cdot \frac{x^{3/2}}{3/2} + C\]</p>
                        <p>\[= 3 \cdot \frac{2}{3}x^{3/2} + C\]</p>
                        <div class="formula-box">
                            \[= 2x^{3/2} + C = 2x\sqrt{x} + C\]
                        </div>
                    </div>
                </div>
                
                <button class="reveal-button" onclick="revealSolution('yellow-ex3', 'yellow')">
                    üîç Soluzione: \(\int \left(\frac{2}{x} + x\right) dx\)
                </button>
                
                <div id="yellow-ex3" class="solution-hidden">
                    <div class="step-by-step">
                        <p>\[\int \left(\frac{2}{x} + x\right) dx = \int \frac{2}{x} \, dx + \int x \, dx\]</p>
                        <p>\[= 2 \ln|x| + \frac{x^2}{2} + C\]</p>
                        <div class="formula-box">
                            \[= 2 \ln|x| + \frac{x^2}{2} + C\]
                        </div>
                    </div>
                </div>
                
                <button class="reveal-button" onclick="revealSolution('yellow-ex4', 'yellow')">
                    üîç Soluzione: \(\int \left(\frac{4}{x^2} - \frac{1}{\sqrt{x}}\right) dx\)
                </button>
                
                <div id="yellow-ex4" class="solution-hidden">
                    <div class="step-by-step">
                        <p>\[\int (4x^{-2} - x^{-1/2}) \, dx\]</p>
                        <p>\[= 4 \cdot \frac{x^{-1}}{-1} - \frac{x^{1/2}}{1/2} + C\]</p>
                        <p>\[= -\frac{4}{x} - 2\sqrt{x} + C\]</p>
                        <div class="formula-box">
                            \[= -\frac{4}{x} - 2\sqrt{x} + C\]
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="exercise-section">
                <h3>üéØ PROBLEMI APPLICATIVI - Soluzioni</h3>
                
                <h4>Problema 1: Legge di Gravitazione</h4>
                <p>\(F(r) = \frac{k}{r^2}\), \(V(1) = 0\)</p>
                <button class="reveal-button" onclick="revealSolution('yellow-prob1', 'yellow')">
                    üîç Mostra Soluzione Problema 1
                </button>
                
                <div id="yellow-prob1" class="solution-hidden">
                    <div class="step-by-step">
                        <p>\[V(r) = \int \frac{k}{r^2} \, dr = \int k \cdot r^{-2} \, dr\]</p>
                        <p>\[= k \cdot \frac{r^{-1}}{-1} + C = -\frac{k}{r} + C\]</p>
                        <p>\[V(1) = -\frac{k}{1} + C = 0\]</p>
                        <p>\[C = k\]</p>
                        <div class="formula-box">
                            \[V(r) = -\frac{k}{r} + k = k\left(1 - \frac{1}{r}\right)\]
                        </div>
                    </div>
                </div>
                
                <h4>Problema 4: Funzione Mista</h4>
                <p>\(f'(x) = 2x + \frac{3}{x} + \sqrt{x}\), \(f(1) = 5\)</p>
                <button class="reveal-button" onclick="revealSolution('yellow-prob4', 'yellow')">
                    üîç Mostra Soluzione Problema 4
                </button>
                
                <div id="yellow-prob4" class="solution-hidden">
                    <div class="step-by-step">
                        <p>\[f(x) = \int \left(2x + \frac{3}{x} + x^{1/2}\right) dx\]</p>
                        <p>\[= x^2 + 3\ln|x| + \frac{2}{3}x^{3/2} + C\]</p>
                        <p>\[f(1) = 1 + 3 \cdot 0 + \frac{2}{3} + C = 5\]</p>
                        <p>\[1 + 0 + \frac{2}{3} + C = 5\]</p>
                        <p>\[C = 5 - 1 - \frac{2}{3} = \frac{10}{3}\]</p>
                        <div class="formula-box">
                            \[f(x) = x^2 + 3\ln|x| + \frac{2}{3}x^{3/2} + \frac{10}{3}\]
                        </div>
                    </div>
                </div>
                
                <h4>Problema 5: Sfida Avanzata</h4>
                <p>\(f'(x) = \frac{x^2 + 1}{x}\), \(f(1) = 3\)</p>
                <button class="reveal-button" onclick="revealSolution('yellow-prob5', 'yellow')">
                    üîç Mostra Soluzione Problema 5
                </button>
                
                <div id="yellow-prob5" class="solution-hidden">
                    <div class="step-by-step">
                        <p><strong>Suggerimento:</strong> Dividi prima la frazione!</p>
                        <p>\[\frac{x^2 + 1}{x} = \frac{x^2}{x} + \frac{1}{x} = x + \frac{1}{x}\]</p>
                        
                        <p>\[f(x) = \int \left(x + \frac{1}{x}\right) dx\]</p>
                        <p>\[= \int x \, dx + \int \frac{1}{x} \, dx\]</p>
                        <p>\[= \frac{x^2}{2} + \ln|x| + C\]</p>
                        
                        <p>\[f(1) = \frac{1}{2} + \ln(1) + C = 3\]</p>
                        <p>\[\frac{1}{2} + 0 + C = 3\]</p>
                        <p>\[C = \frac{5}{2}\]</p>
                        
                        <div class="formula-box">
                            \[f(x) = \frac{x^2}{2} + \ln|x| + \frac{5}{2}\]
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="back-button" onclick="hideCorrections()">‚¨ÖÔ∏è Torna alla Selezione</button>
        </div>
        
    </div>
    
    <script>
        let progressCounters = {
            red: 0,
            blue: 0,
            green: 0,
            yellow: 0
        };
        
        let totalSteps = {
            red: 12,
            blue: 10,
            green: 11,
            yellow: 11
        };
        
        function showCorrection(team) {
            // Nascondi tutti i pannelli
            document.querySelectorAll('.correction-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            // Mostra il pannello selezionato
            document.getElementById(`correction-${team}`).classList.add('active');
            
            // Nascondi il selettore
            document.querySelector('.team-selector').style.display = 'none';
            document.querySelector('.header').style.display = 'none';
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Re-render MathJax for the newly visible content
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        }
        
        function hideCorrections() {
            // Nascondi tutti i pannelli
            document.querySelectorAll('.correction-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            // Mostra il selettore
            document.querySelector('.team-selector').style.display = 'flex';
            document.querySelector('.header').style.display = 'block';
            
            // Scroll to top
            window.scrollTo(0, 0);
        }
        
        function revealSolution(id, team) {
            const element = document.getElementById(id);
            const button = event.target;
            
            if (element && !element.classList.contains('show')) {
                element.classList.add('show');
                button.disabled = true;
                button.textContent = '‚úÖ Soluzione Rivelata';
                button.style.background = '#cccccc';
                
                // Aggiorna il progresso
                progressCounters[team]++;
                updateProgress(team);
                
                // Re-render MathJax for the newly revealed content
                if (window.MathJax) {
                    MathJax.typesetPromise([element]);
                }
                
                // Smooth scroll all'elemento
                setTimeout(() => {
                    element.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            }
        }
        
        function updateProgress(team) {
            const percentage = Math.round((progressCounters[team] / totalSteps[team]) * 100);
            const progressBar = document.getElementById(`progress-${team}`);
            
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '%';
            
            // Cambia colore in base alla percentuale
            if (percentage === 100) {
                progressBar.style.background = 'linear-gradient(45deg, #FFD700, #FFA500)';
                
                // Mostra messaggio di congratulazioni
                setTimeout(() => {
                    alert('üéâ COMPLIMENTI! Hai rivelato tutte le soluzioni di questa squadra!');
                }, 500);
            }
        }
        
        // Aggiungi effetto hover ai pulsanti
        document.addEventListener('DOMContentLoaded', function() {
            const buttons = document.querySelectorAll('.reveal-button');
            buttons.forEach(button => {
                button.addEventListener('mouseenter', function() {
                    if (!this.disabled) {
                        this.style.transform = 'translateY(-2px) scale(1.02)';
                    }
                });
                
                button.addEventListener('mouseleave', function() {
                    if (!this.disabled) {
                        this.style.transform = 'translateY(0) scale(1)';
                    }
                });
            });
        });
        
        // Previeni accidentale chiusura della pagina durante la correzione
        window.addEventListener('beforeunload', function(e) {
            const anyPanelActive = document.querySelector('.correction-panel.active');
            if (anyPanelActive) {
                e.preventDefault();
                e.returnValue = '';
            }
        });
    </script>
</body>
</html>
